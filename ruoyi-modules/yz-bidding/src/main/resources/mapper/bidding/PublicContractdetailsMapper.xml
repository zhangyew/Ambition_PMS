<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yz.bidding.mapper.PublicContractdetailsMapper">
    
    <resultMap type="com.ruoyi.system.api.domain.PublicContractdetails" id="PublicContractdetailsResult">
        <result property="contractdetailsId"    column="contractdetails_id"    />
        <result property="conContractId"    column="con_contract_id"    />
        <result property="contractdetailsPaymentId"    column="contractdetails_payment_id"    />
        <result property="contractdetailsName"    column="contractdetails_name"    />
        <result property="contractdetailsType"    column="contractdetails_type"    />
        <result property="openTime"    column="open_time"    />
        <result property="contractdetailsAmount"    column="contractdetails_amount"    />
        <result property="illustrate"    column="illustrate"    />
        <result property="bidEnd"    column="bid_end"    />
        <result property="createBy"    column="create_by"    />
        <result property="createTime"    column="create_time"    />
        <result property="updateBy"    column="update_by"    />
        <result property="updateTime"    column="update_time"    />
    </resultMap>

    <sql id="selectPublicContractdetailsVo">
        select contractdetails_id, con_contract_id, contractdetails_payment_id, contractdetails_name, contractdetails_type, open_time, contractdetails_amount, illustrate, bid_end, create_by, create_time, update_by, update_time from public_contractdetails
    </sql>

    <select id="selectPublicContractdetailsList" parameterType="com.ruoyi.system.api.domain.PublicContractdetails" resultMap="PublicContractdetailsResult">
        <include refid="selectPublicContractdetailsVo"/>
        <where>  
            <if test="conContractId != null "> and con_contract_id = #{conContractId}</if>
            <if test="contractdetailsPaymentId != null "> and contractdetails_payment_id = #{contractdetailsPaymentId}</if>
            <if test="contractdetailsName != null  and contractdetailsName != ''"> and contractdetails_name like concat('%', #{contractdetailsName}, '%')</if>
            <if test="contractdetailsType != null "> and contractdetails_type = #{contractdetailsType}</if>
            <if test="openTime != null "> and open_time = #{openTime}</if>
            <if test="contractdetailsAmount != null "> and contractdetails_amount = #{contractdetailsAmount}</if>
            <if test="illustrate != null  and illustrate != ''"> and illustrate = #{illustrate}</if>
            <if test="bidEnd != null "> and bid_end = #{bidEnd}</if>
        </where>
    </select>
    
    <select id="selectPublicContractdetailsByContractdetailsId" parameterType="Long" resultMap="PublicContractdetailsResult">
        <include refid="selectPublicContractdetailsVo"/>
        where contractdetails_id = #{contractdetailsId}
    </select>
        
    <insert id="insertPublicContractdetails" parameterType="com.ruoyi.system.api.domain.PublicContractdetails" useGeneratedKeys="true" keyProperty="contractdetailsId">
        insert into public_contractdetails
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="conContractId != null">con_contract_id,</if>
            <if test="contractdetailsPaymentId != null">contractdetails_payment_id,</if>
            <if test="contractdetailsName != null">contractdetails_name,</if>
            <if test="contractdetailsType != null">contractdetails_type,</if>
            <if test="openTime != null">open_time,</if>
            <if test="contractdetailsAmount != null">contractdetails_amount,</if>
            <if test="illustrate != null">illustrate,</if>
            <if test="bidEnd != null">bid_end,</if>
            <if test="createBy != null">create_by,</if>
            <if test="createTime != null">create_time,</if>
            <if test="updateBy != null">update_by,</if>
            <if test="updateTime != null">update_time,</if>
         </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="conContractId != null">#{conContractId},</if>
            <if test="contractdetailsPaymentId != null">#{contractdetailsPaymentId},</if>
            <if test="contractdetailsName != null">#{contractdetailsName},</if>
            <if test="contractdetailsType != null">#{contractdetailsType},</if>
            <if test="openTime != null">#{openTime},</if>
            <if test="contractdetailsAmount != null">#{contractdetailsAmount},</if>
            <if test="illustrate != null">#{illustrate},</if>
            <if test="bidEnd != null">#{bidEnd},</if>
            <if test="createBy != null">#{createBy},</if>
            <if test="createTime != null">#{createTime},</if>
            <if test="updateBy != null">#{updateBy},</if>
            <if test="updateTime != null">#{updateTime},</if>
         </trim>
    </insert>

    <update id="updatePublicContractdetails" parameterType="com.ruoyi.system.api.domain.PublicContractdetails">
        update public_contractdetails
        <trim prefix="SET" suffixOverrides=",">
            <if test="conContractId != null">con_contract_id = #{conContractId},</if>
            <if test="contractdetailsPaymentId != null">contractdetails_payment_id = #{contractdetailsPaymentId},</if>
            <if test="contractdetailsName != null">contractdetails_name = #{contractdetailsName},</if>
            <if test="contractdetailsType != null">contractdetails_type = #{contractdetailsType},</if>
            <if test="openTime != null">open_time = #{openTime},</if>
            <if test="contractdetailsAmount != null">contractdetails_amount = #{contractdetailsAmount},</if>
            <if test="illustrate != null">illustrate = #{illustrate},</if>
            <if test="bidEnd != null">bid_end = #{bidEnd},</if>
            <if test="createBy != null">create_by = #{createBy},</if>
            <if test="createTime != null">create_time = #{createTime},</if>
            <if test="updateBy != null">update_by = #{updateBy},</if>
            <if test="updateTime != null">update_time = #{updateTime},</if>
        </trim>
        where contractdetails_id = #{contractdetailsId}
    </update>

    <delete id="deletePublicContractdetailsByContractdetailsId" parameterType="Long">
        delete from public_contractdetails where contractdetails_id = #{contractdetailsId}
    </delete>

    <delete id="deletePublicContractdetailsByContractdetailsIds" parameterType="String">
        delete from public_contractdetails where contractdetails_id in 
        <foreach item="contractdetailsId" collection="array" open="(" separator="," close=")">
            #{contractdetailsId}
        </foreach>
    </delete>
</mapper>